{% extends temp.html %}
{% block title %}
WORD CARD
{% end %}
{% block search %}
{% end %}
{% block main %}
<div class="container">
    <div class="text-center">
        <h2>程序参数设置</h2>

    </div>
    <hr class="mb-4">

    <div class="row">
        <div class="col-md-12 order-md-1">
            <form action="/pmath" method="post" accept-charset="utf-8">
                <div class="container">
                    <div class="accordion accordion-flush" id="accordionFlushExample">

                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseOne" aria-expanded="false"
                                        aria-controls="flush-collapseOne">
                                    基础设置
                                </button>
                            </h2>
                            <div id="flush-collapseOne" class="accordion-collapse collapse"
                                 aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <div class="row">

                                        <div class="col">
                                            <fieldset>
                                                <legend>选择几步运算</legend>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="step1" name="step"
                                                           class="custom-control-input" value="1" {% if user_config['step'][0]=='1'%}
                                                    checked {%else%} {%end%} >
                                                    <label class="custom-control-label" for="step1">一步</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="step2" name="step"
                                                           class="custom-control-input" value="2" {% if user_config['step'][0]=='2'%}
                                                    checked {%else%} {%end%} >
                                                    <label class="custom-control-label" for="step2">二步</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="step3" name="step"
                                                           class="custom-control-input" value="3" {% if user_config['step'][0]=='3'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="step3">三步</label>
                                                </div>

                                            </fieldset>
                                        </div>
                                        <div class="col">
                                            <fieldset>
                                                <legend>题型设置</legend>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="is_result0" name="is_result"
                                                           class="custom-control-input" value="0" {% if user_config['is_result'][0]=='0'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="is_result0">求结果</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="is_result1" name="is_result"
                                                           class="custom-control-input" value="1" {% if user_config['is_result'][0]=='1'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="is_result1">求算数项</label>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="col">
                                            <fieldset>
                                                <legend>括号设置</legend>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input class="form-check-input" type="checkbox" id="is_bracket"
                                                           name="is_bracket" value="" {% if 'is_bracket' in user_config
                                                    %} checked {%else%} {%end%}>
                                                    <label class="form-check-label" for="is_bracket">使用括号</label>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseTwo" aria-expanded="false"
                                        aria-controls="flush-collapseTwo">
                                    运算设置
                                </button>
                            </h2>
                            <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                 aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col">
                                            <fieldset>
                                                <legend>加法设置</legend>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="carry1" name="carry"
                                                           class="custom-control-input" value="1" {% if user_config['carry'][0]=='1'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="carry1">随机进位</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="carry2" name="carry"
                                                           class="custom-control-input" value="2" {% if user_config['carry'][0]=='2'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="carry2">加法进位</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="carry3" name="carry"
                                                           class="custom-control-input" value="3" {% if user_config['carry'][0]=='3'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="carry3">没有进位</label>
                                                </div>

                                            </fieldset>
                                        </div>
                                        <div class="col">
                                            <fieldset>
                                                <legend>减法设置</legend>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="abdication1" name="abdication"
                                                           class="custom-control-input" value="1" {% if user_config['abdication'][0]=='1'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="abdication1">随机进位</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="abdication2" name="abdication"
                                                           class="custom-control-input" value="2" {% if user_config['abdication'][0]=='2'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="abdication2">减法进位</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="abdication3" name="abdication"
                                                           class="custom-control-input" value="3" {% if user_config['abdication'][0]=='3'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="abdication3">没有进位</label>
                                                </div>

                                            </fieldset>
                                        </div>
                                        <div class="col">
                                            <fieldset>
                                                <legend>除法设置</legend>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="remainder1" name="remainder"
                                                           class="custom-control-input" value="1" {% if user_config['remainder'][0]=='1'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="remainder1">随机有余数</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="remainder2" name="remainder"
                                                           class="custom-control-input" value="2" {% if user_config['remainder'][0]=='2'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="remainder2">结果整除</label>
                                                </div>
                                                <div class="custom-control custom-radio custom-control-inline">
                                                    <input type="radio" id="remainder3" name="remainder"
                                                           class="custom-control-input" value="3" {% if user_config['remainder'][0]=='3'%}
                                                    checked {%else%} {%end%}>
                                                    <label class="custom-control-label" for="remainder3">结果有余数</label>
                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseThree" aria-expanded="false"
                                        aria-controls="flush-collapseThree">
                                    数值符号设置
                                </button>
                            </h2>
                            <div id="flush-collapseThree" class="accordion-collapse collapse"
                                 aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col-12 col-md-6">
                                            <fieldset>
                                                <legend>运算项及结果范围数值设置</legend>
                                                <div class="row">
                                                    <p>计算参数的取值范围(0-100)</p>
                                                    <div class="col">
                                                        <input type="number" min="0" max="100"
                                                               class="form-control form-control-sm" id="multistep_a1"
                                                               name="multistep_a1" placeholder=""
                                                               value="{{user_config['multistep_a1'][0]}}">
                                                    </div>
                                                    <div class="col-1">
                                                        到
                                                    </div>
                                                    <div class="col">
                                                        <input type="number" min="0" max="100"
                                                               class="form-control form-control-sm" id="multistep_a2"
                                                               name="multistep_a2" placeholder=""
                                                               value="{{user_config['multistep_a2'][0]}}">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <p>运算结果取值范围(0-1000)</p>
                                                    <div class="col">
                                                        <input type="number" min="0" max="1000"
                                                               class="form-control form-control-sm" id="multistep_e1"
                                                               name="multistep_e1" placeholder=""
                                                               value="{{user_config['multistep_e1'][0]}}">
                                                    </div>
                                                    <div class="col-1">
                                                        到
                                                    </div>
                                                    <div class="col">
                                                        <input type="number" min="0" max="1000"
                                                               class="form-control form-control-sm" id="multistep_e2"
                                                               name="multistep_e2" placeholder=""
                                                               value="{{user_config['multistep_e2'][0]}}">
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </div>
                                        <div class="col-12 col-md-6">
                                            <fieldset>
                                                <legend>运算符号的选择</legend>
                                                <div class="row">
                                                    <p>第1处运算符号选择</p>
                                                    <div class="col">
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_a1" name="symbols_a" value="1" {% if ('symbols_a'
                                                            in user_config) and ('1' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_a1">+(加法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_a2" name="symbols_a" value="2" {% if ('symbols_a'
                                                            in user_config) and ('2' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_a2">-(减法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_a3" name="symbols_a" value="3" {% if ('symbols_a'
                                                            in user_config) and ('3' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_a3">×(乘法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_a4" name="symbols_a" value="4" {% if ('symbols_a'
                                                            in user_config) and ('4' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_a4">÷(除法)</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <p>第2处运算符号选择</p>
                                                    <div class="col">
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_b1" name="symbols_b" value="1" {% if ('symbols_b'
                                                            in user_config) and ('1' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_b1">+(加法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_b2" name="symbols_b" value="2" {% if ('symbols_b'
                                                            in user_config) and ('2' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_b2">-(减法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_b3" name="symbols_b" value="3" {% if ('symbols_b'
                                                            in user_config) and ('3' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_b3">×(乘法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_b4" name="symbols_b" value="4" {% if ('symbols_b'
                                                            in user_config) and ('4' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_b4">÷(除法)</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <p>第3处运算符号选择</p>
                                                    <div class="col">
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_c1" name="symbols_c" value="1" {% if ('symbols_c'
                                                            in user_config) and ('1' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_c1">+(加法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_c2" name="symbols_c" value="2" {% if ('symbols_c'
                                                            in user_config) and ('2' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_c2">-(减法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_c3" name="symbols_c" value="3" {% if ('symbols_c'
                                                            in user_config) and ('3' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_c3">×(乘法)</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox"
                                                                   id="symbols_c4" name="symbols_c" value="4" {% if ('symbols_c'
                                                            in user_config) and ('4' in user_config['symbols_a']) %}
                                                            checked {%else%} {%end%}>
                                                            <label class="form-check-label"
                                                                   for="symbols_c4">÷(除法)</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseFour" aria-expanded="false"
                                        aria-controls="flush-collapseFour">
                                    标题设置
                                </button>
                            </h2>
                            <div id="flush-collapseFour" class="accordion-collapse collapse"
                                 aria-labelledby="flush-headingFour" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col">
                                            <fieldset>


                                                <div class="row">
                                                    <p>卷子标题</p>
                                                    <div class="col-md-4 mb-3">
                                                        <input type="text" maxlength="20"
                                                               class="form-control form-control-sm" id="jz_title"
                                                               name="jz_title"
                                                               placeholder="" required=""
                                                               value="{{user_config['jz_title'][0]}}">
                                                    </div>
                                                    <p>卷子副标题</p>
                                                    <div class="col-md-8 mb-3">
                                                        <input type="text" maxlength="50"
                                                               class="form-control form-control-sm" id="inf_title"
                                                               name="inf_title"
                                                               placeholder="" required=""
                                                               value="{{user_config['inf_title'][0]}}">
                                                    </div>

                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#flush-collapseFive" aria-expanded="false"
                                        aria-controls="flush-collapseFive">
                                    口算题数量
                                </button>
                            </h2>
                            <div id="flush-collapseFive" class="accordion-collapse collapse"
                                 aria-labelledby="flush-headingFive" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body">
                                    <div class="row">
                                        <div class="col">
                                            <fieldset>

                                                <div class="row">
                                                    <p>口算题数量(0-50)</p>
                                                    <div class="col-md-2 mb-3">
                                                        <input type="number" min="0" max="50"
                                                               class="form-control form-control-sm" id="number"
                                                               name="number"
                                                               placeholder="" required=""
                                                               value="{{user_config['number'][0]}}">
                                                    </div>

                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>
                </div>

                <hr class="mb-4">
                <div class="row">

                    <div class="col-6">
                        <center>
                            <button class="btn btn-primary  btn-block" id="psmsubmit" type="submit"
                                    data-target="#exampleModal">生成试卷
                            </button>
                        </center>
                    </div>

                    <div class="col-6">
                        <center>
                            <a href="/pmath/clear_config" class="btn btn-primary  btn-block">清除配置</a>
                        </center>
                    </div>

                </div>
            </form>
            <hr class="mb-4">
        </div>

    </div>
    {% if (cols==2 or cols ==4) %}
    <div class="container pt-4">

        <div class="row">
            <div class="col-6">
                <h3>问题</h3>
                <div class="card shadow-sm">
                    <h3>{{title1}}</h3>
                    <hr class="mb-4">
                    <p class="small">{{title2}}</p>
                    <div class="row">

                        {% for question in questions %}
                        <div class="col-lg-{{12//cols}}">

                            <small>{{question}}</small>
                        </div>
                        {% end %}
                    </div>

                </div>
            </div>
            <div class="col-6">
                <h3>答案</h3>
                <div class="card shadow-sm">
                    <h3>{{title1}}</h3>
                    <hr class="mb-4">
                    <p class="small">{{title2}}</p>
                    <div class="row">

                        {% for answer in answers %}
                        <div class="col-lg-{{12//cols}}">
                            <small>{{answer}}</small>
                        </div>
                        {% end %}
                    </div>

                </div>
            </div>
            <div class="pt-2">
                <a href="./pmath/static/userfile/{{uid}}.docx" type="button" class="btn  btn-primary">下载</a>
            </div>
            <br>
          <br>
            <div class="pt-2">
              <H2>发送到邮箱</H2>
              <hr>
                <form action="/pmath/sendmail" method="post" accept-charset="utf-8" novalidate>
                    <div class="form-group">
                        <input type="email"
                               class="form-control"
                               name="email" placeholder="请输入邮箱地址">
                       <br>

                        <button class="btn btn-primary  btn-block" type="submit">发送到邮箱
                        </button>
                    </div>
                </form>

            </div>

        </div>


        {% else %}
        {% end %}

        {% end %}
